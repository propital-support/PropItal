
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Registrazione - Propital</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <style>
    body { background-color: #0f172a; color: white; font-family: Arial; text-align: center; padding: 2rem; }
    input { padding: 0.6rem; margin: 0.3rem; width: 260px; border-radius: 6px; border: none; }
    button { padding: 0.6rem 1.5rem; margin-top: 0.8rem; background: linear-gradient(to right, #00ffa3, #8b5cf6); color: black;
             border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
    .box { background-color: #1e293b; padding: 2rem; border-radius: 12px; max-width: 500px; margin: auto;
           box-shadow: 0 0 18px rgba(139, 92, 246, 0.3); border: 1px solid rgba(0, 255, 163, 0.3); }
  </style>
</head>
<body>
  <div class="box">
    <h2>Registrati</h2>
    <input type="text" id="nome" placeholder="Nome" required><br>
    <input type="text" id="cognome" placeholder="Cognome" required><br>
    <input type="text" id="cap" placeholder="CAP" required><br>
    <input type="text" id="citta" placeholder="CittÃ " required><br>
    <input type="text" id="stato" placeholder="Stato" required><br>
    <input type="email" id="register-email" placeholder="Email" required><br>
    <input type="password" id="register-password" placeholder="Password" required><br>
    <button onclick="registerUser()">Registrati</button>
  </div>

  <div id="vanta-bg" style="position:fixed;width:100%;height:100%;z-index:-1;"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
  <script>
    VANTA.NET({ el: "#vanta-bg", color: 0x8b5cf6, backgroundColor: 0x0f172a, spacing: 18.0 });

    const firebaseConfig = {
      apiKey: "AIzaSyD5cuUQcouJoxu44VQUMgVocQooSpOQgEY",
      authDomain: "propital-1df56.firebaseapp.com",
      projectId: "propital-1df56",
      storageBucket: "propital-1df56.firebasestorage.app",
      messagingSenderId: "708988158572",
      appId: "1:708988158572:web:b05bfc7ade689908704e49"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    function registerUser() {
      const userData = {
        nome: document.getElementById("nome").value,
        cognome: document.getElementById("cognome").value,
        cap: document.getElementById("cap").value,
        citta: document.getElementById("citta").value,
        stato: document.getElementById("stato").value,
        email: document.getElementById("register-email").value
      };
      const password = document.getElementById("register-password").value;

      auth.createUserWithEmailAndPassword(userData.email, password)
        .then(() => {
          localStorage.setItem("utente", JSON.stringify(userData));
          alert("Registrazione completata!");
          window.location.href = "auth.html";
        })
        .catch(error => alert("Errore: " + error.message));
    }
  </script>
</body>
</html>
