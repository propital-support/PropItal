<!DOCTYPE html>

<html lang="it">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Carrello | Propital</title>
<link href="stile.css" rel="stylesheet"/>
<style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(120deg, #0f2027, #203a43, #2c5364);
      color: white;
      margin: 0;
      padding: 0;
    }
    header {
      padding: 20px;
      background: rgba(0, 0, 0, 0.7);
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      color: #00ffd5;
    }
    #carrello-container {
      padding: 40px;
      max-width: 800px;
      margin: auto;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0, 255, 213, 0.3);
    }
    #lista-carrello {
      list-style-type: none;
      padding: 0;
    }
    #lista-carrello li {
      background: rgba(255, 255, 255, 0.1);
      margin: 10px 0;
      padding: 15px;
      border-radius: 5px;
      font-size: 18px;
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
    }
    #totale {
      margin-top: 30px;
      font-size: 22px;
      font-weight: bold;
      text-align: right;
      color: #00ffd5;
    }
    .vuoto {
      text-align: center;
      font-size: 20px;
      padding: 50px;
      color: #ccc;
    }
    .bottoni {
      display: flex;
      justify-content: space-between;
      margin-top: 40px;
    }
    .bottoni a {
      background-color: #00ffd5;
      color: #000;
      text-decoration: none;
      padding: 12px 25px;
      border-radius: 8px;
      font-weight: bold;
      transition: all 0.3s ease;
    }
    .bottoni a:hover {
      background-color: #00c8a3;
    }
    .rimuovi {
      background: transparent;
      border: none;
      color: #ff4d4d;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&amp;display=swap" rel="stylesheet"/>
<style>
        body {
            font-family: 'Outfit', sans-serif;
            margin: 0;
            background-color: #121212;
            color: white;
            padding: 2rem;
        }
        .carrello-container {
            max-width: 800px;
            margin: auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 2rem;
        }
        h1 {
            text-align: center;
        }
        .item {
            display: flex;
            justify-content: space-between;
            margin: 1rem 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 1rem;
        }
        .totale {
            text-align: right;
            margin-top: 2rem;
            font-size: 1.25rem;
        }
        .checkout-btn {
            background: #00c3ff;
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1rem;
            border-radius: 8px;
            float: right;
            margin-top: 1rem;
        }
        .checkout-btn:hover {
            background-color: #009ecf;
        }
    </style>
<style>
body {
    background-color: #0e0e10;
    color: #E0E0E0;
}
a {
    color: #00C9FF;
}
h1, h2, h3, h4 {
    color: #00FFF7;
    text-shadow: 0 0 5px #00FFF7;
}
button {
    background-color: #00FFF7;
    color: #0e0e10;
    border: none;
    border-radius: 8px;
    padding: 0.75rem 1.5rem;
    font-size: 1rem;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.2s;
}
button:hover {
    background-color: #00AFAA;
    transform: scale(1.05);
}
footer {
    background-color: #1a1a2e;
    color: #E0E0E0;
}
</style></head>
<body>

<video autoplay muted loop id="bg-video">
  <source src="videosfondo.mp4" type="video/mp4">
  Il tuo browser non supporta il tag video.
</video>
<style>
  #bg-video {
    position: fixed;
    right: 0;
    bottom: 0;
    min-width: 100%;
    min-height: 100%;
    z-index: -1;
    object-fit: cover;
  }
  body {
    background: transparent !important;
  }
</style>
<div class="carrello-container"><header>Il tuo carrello Propital</header><div id="carrello-container">
<ul id="lista-carrello"></ul>
<p id="totale">Totale: $0</p>
<div class="bottoni">
<a href="piani.html">‚Üê Torna ai <span data-lang-it="Piani" data-lang-en="Plans">Piani</span></a>
<a href="checkout.html">Procedi al <span data-lang-it="Checkout" data-lang-en="Checkout">Checkout</span> ‚Üí</a>
</div>
</div><script>
    let items = JSON.parse(localStorage.getItem('cart')) || [];

    const listaCarrello = document.getElementById('lista-carrello');
    const totaleElemento = document.getElementById('totale');

    function aggiornaCarrello() {
      listaCarrello.innerHTML = '';
      let totale = 0;

      if (items.length === 0) {
        listaCarrello.innerHTML = "<li class='vuoto'>Il carrello √® vuoto.</li>";
        totaleElemento.textContent = "Totale: $0";
        return;
      }

      items.forEach((item, index) => {
        const li = document.createElement("li");
        li.innerHTML = `
  <strong>${item.plan} ${item.size}</strong><br>
  Prezzo: ‚Ç¨${item.price ? parseFloat(item.price).toFixed(2) : '0.00'}
  <button class="rimuovi" onclick="rimuoviDalCarrello(${index})">Rimuovi</button>
`;
        listaCarrello.appendChild(li);
        totale += parseFloat(item.price) || 0; // Aggiunta di un fallback per evitare NaN
      });

      totaleElemento.textContent = `Totale: $${totale.toFixed(2)}`;
    }

    function rimuoviDalCarrello(index) {
      items.splice(index, 1); // Rimuove l'elemento dall'array
      localStorage.setItem('cart', JSON.stringify(items)); // Aggiorna il carrello in localStorage
      aggiornaCarrello(); // Rinnova la visualizzazione del carrello
    }

    aggiornaCarrello();
  </script></div>
<style>
  #tawk-button-custom {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #1dd4ff;
    color: #000;
    padding: 12px 18px;
    border-radius: 30px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    font-weight: bold;
    font-family: 'Outfit', sans-serif;
    cursor: pointer;
    z-index: 9999;
    transition: all 0.3s ease;
  }
  #tawk-button-custom:hover {
    background: #0fb3cc;
  }
  .tawk-min-container { display: none !important; }
</style>
<div id="tawk-button-custom" onclick="Tawk_API.maximize()">üí¨ Chatta con noi</div>



<!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/68018eda0a7801190f1c3cce/1ip31c1dd';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<script>
  // Attiva la chat quando pronta
  document.addEventListener("DOMContentLoaded", function () {
    const button = document.getElementById("tawk-button-custom");
    if (button) {
      button.addEventListener("click", function () {
        if (typeof Tawk_API !== "undefined" && Tawk_API.maximize) {
          Tawk_API.maximize();
        } else {
          console.log("Tawk.to non √® ancora pronto. Riprova tra qualche secondo.");
        }
      });
    }
  });
</script>
<!--End of Tawk.to Script-->
