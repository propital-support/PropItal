
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Dashboard - Propital</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <style>
    body { background-color: #0f172a; color: white; font-family: Arial; text-align: center; padding: 2rem; }
    h1 { color: #00ffa3; }
    button { margin-top: 2rem; padding: 0.6rem 1.5rem; background: #1dd4ff; border: none; border-radius: 6px; color: black; font-weight: bold; cursor: pointer; }
  </style>
</head>
<body>
  <h1 id="welcome">Benvenuto!</h1>
  <p>Questa Ã¨ la tua dashboard personale.</p>
  <button onclick="logoutUser()">Esci</button>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD5cuUQcouJoxu44VQUMgVocQooSpOQgEY",
      authDomain: "propital-1df56.firebaseapp.com",
      projectId: "propital-1df56",
      storageBucket: "propital-1df56.firebasestorage.app",
      messagingSenderId: "708988158572",
      appId: "1:708988158572:web:b05bfc7ade689908704e49"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    const utente = JSON.parse(localStorage.getItem("utente"));
    if (utente && utente.nome) {
      document.getElementById("welcome").textContent = "Benvenuto, " + utente.nome + "!";
    }

    auth.onAuthStateChanged(user => {
      if (!user) {
        window.location.href = "auth.html";
      }
    });

    function logoutUser() {
      auth.signOut().then(() => {
        localStorage.removeItem("utente");
        window.location.href = "index.html";
      });
    }
  </script>
</body>
</html>
